%Class erzeugt eine Buttongroup aus zwei Radiobuttons; zu implementieren: dynamische Anpassung der Buttonzahl
%ALT: KONZEPT: Klasse als allg REDRAW klasse (selbst superklasse, untergeordnete implementierungsklassen erstellen!)- beerbt maininput
%+Subklasse: Konkrete implementierung erst in der Refreshfunktion in Subklasse!
%Neues Konzept: cmode-subklasse!
classdef redraw_2 < input.mainredraw
   properties
      ContainerPosition
      ButtonString1
      ButtonString2
   end
   methods
      %Constructor: //Use position: [0.8,0.85,0.16,0.1] (testing)
      function obj = redraw_2(hmain,pos,lbl1,lbl2)
         %As superclass constructor requires arguments, call explicitly:
         obj = obj@input.mainredraw(hmain,pos,lbl1,lbl2);
      end
      function redraw(obj,mod)         
         %//Hier variabilität der cases im Argument berücksichtigen und mit schleife cases durchiterieren!
         if mod == 1            
            if isobject(obj.InputObj) == 1
               delete(obj.InputObj);
            end
            
%                iniedit =...
%                   {[70,20,25,25;...
%                   120,20,25,25;...
%                   120,50,25,25;...
%                   70,80,25,25;...
%                   120,80,25,25;...
%                   120,110,25,25;...
%                   120,140,25,25;...
%                   120,170,25,25],...
%                   [3;5;0.1;5;8;60;2;60]};
%                inilbl =...
%                   {[20,20,50,15;...
%                   100,20,20,15;...
%                   20,50,80,15;...
%                   20,80,50,15;...
%                   100,80,20,15;...
%                   20,110,80,15;...
%                   20,140,80,15;...
%                   20,170,80,15],...
%                   {'ISI (s):';' - ';'Max. error rate:';'Dur.:';' - ';'Min. tap count/dig.:';'Divisor:';'Break:'}};
%                inievt = [1];
               
               iniedit =...
                  {[70,20,25,25;...
                  120,20,25,25;...
                  120,50,25,25;...
                  120,80,25,25;...
                  120,110,25,25;...
                  120,140,25,25],...
                  [0.5;0.8;0.1;500;2;60]};
               inilbl =...
                  {[20,20,50,15;...
                  100,20,20,15;...
                  20,50,80,15;...
                  20,80,80,15;...
                  20,110,80,15;...
                  20,140,95,15],...
                  {'ISI (s):';' - ';'Max. error rate:';'Tap count:';'Breaks:';'Break dur.:'}};
               inievt = [1];
            
            obj.InputObj = input.maininput(obj.Parent,iniedit,inilbl,inievt);
            
            obj.InputState = 1;
            notify(obj,'Redraw');
               
%             obj.UpdateInput();
%             notify(obj,'NewInputAlert');
         elseif mod == 2
            if isobject(obj.InputObj) == 1
               delete(obj.InputObj);
            end
            
%                iniedit =...
%                   {[70,20,25,25;...
%                   120,20,25,25;...
%                   120,50,25,25;...
%                   70,80,25,25;...
%                   120,80,25,25;...
%                   120,110,25,25;...
%                   120,140,25,25;...
%                   120,170,25,25],...
%                   [0.5;0.8;0.1;20;120;60;2;30]};
%                inilbl =...
%                   {[20,20,50,15;...
%                   100,20,20,15;...
%                   20,50,80,15;...
%                   20,80,50,15;...
%                   100,80,20,15;...
%                   20,110,80,15;...
%                   20,140,80,15;...
%                   20,170,110,15],...
%                   {'ISI (s):';' - ';'Max. error rate:';'Dur.:';' - ';'Tap count/dig.:';'Divisor:';'Constant off (t0/2):'}};
%                inievt = [1];
               
               iniedit =...
                  {[70,20,25,25;...
                  120,20,25,25;...
                  120,50,25,25;...
                  120,80,25,25;...
                  120,110,25,25;...
                  120,140,25,25;...
                  120,170,25,25],...
                  [0.5;0.8;0.1;500;2;60;30]};
               inilbl =...
                  {[20,20,50,15;...
                  100,20,20,15;...
                  20,50,80,15;...
                  20,80,80,15;...
                  20,110,80,15;...
                  20,140,95,15;...
                  20,170,95,15],...
                  {'ISI (s):';' - ';'Max. error rate:';'Tap count:';'Breaks:';'Break dur.:';'Constant off (t0/2):'}};
               inievt = [1];
            
            obj.InputObj = input.maininput(obj.Parent,iniedit,inilbl,inievt);
               
            obj.InputState = 4;
            notify(obj,'Redraw');
%             obj.UpdateInput();
%             notify(obj,'NewInputAlert');
         end
      end
      %Destructor:
      function delete(obj)
         Hloc = getappdata(obj.Parent,'uihandles');
         delete(Hloc.radio1);
         delete(Hloc.radio2);
         delete(Hloc.radiogrp);
         Hloc = rmfield(Hloc,'radiogrp');
         Hloc = rmfield(Hloc,'radio1');
         Hloc = rmfield(Hloc,'radio2');
         setappdata(obj.Parent,'uihandles',Hloc);
      end
   end
end